## 3,4 ë‹¨ê³„ í”¼ë“œë°± ë¬¸ì„œ

### 1. ë¦¬ì‚¬ì´í´ëŸ¬ë·°ì˜ ë¦¬ìŠ¤ë„ˆ ì¸ë±ìŠ¤ ë°˜í™˜ìœ¼ë¡œ ì¸í•œ ë¬¸ì œ í•´ê²° ë° ì˜í™” ë°ì´í„° ì ‘ê·¼ ìµœì í™”
+ ì¸ë±ìŠ¤ë¥¼ ë°›ì•„ [ì˜í™” + ê´‘ê³ ] ë¦¬ìŠ¤íŠ¸ì—ì„œ ë¶ˆí•„ìš”í•œ ì¸ë±ìŠ¤ ê³„ì‚° ë°œìƒ
+ ê³„ì‚° ë¡œì§ì€ ì¸ë±ìŠ¤ ë§Œí¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ìë¥´ê³  UiModelì— í•´ë‹¹í•˜ëŠ” ê°œìˆ˜ë¥¼ íƒìƒ‰
```
override fun onSelectMovie(movieIdx: Int) {
    val movieIndex =
        items
            .subList(0, movieIdx)
            .count { it is UiModel.MovieUiModel }
    view.moveToBookingComplete(movieIndex)
}
```
### â›”ï¸ Warning
+ ë¦¬ìŠ¤íŠ¸ íƒìƒ‰ ë¹„ìš©(O(N)) ì¦ê°€
+ ì‚¬ìš©í•˜ëŠ” ê³³ì— ëŒ€í•œ ë³µì¡ì„±ì´ ì¦ê°€
+ ë‹¨, ì´ë¥¼ ì§ì ‘ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë„ë¡ ìˆ˜ì •í•  ê²½ìš° ë‹¤ìŒ ë¦¬ë·°ì— ìœ„ë°°ëœë‹¤.
> ì§€ê¸ˆì€ ë‹¨ìˆœíˆ ëª¨ë“  ì •ë³´ê°€ ë˜‘ê°™ì„ê±°ë¼ê³  ê°€ì •í•˜ê³  UiModelì„ ì—¬ëŸ¬ê³³ì—ì„œ ì“°ê³ ìˆì–´ìš”.
> í•˜ì§€ë§Œ ì§€ê¸ˆ êµ¬ì¡°ëŠ” ì˜í™”, ê´‘ê³ ë¥¼ ë¶„ë¦¬í•´ì„œ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ì•„ì´í…œ ì „ëµì´ì§€ ì—¬ëŸ¬ í™”ë©´ì—ì„œ ì¬ì‚¬ìš© í•˜ê¸° ìœ„í•œ êµ¬ì¡°ë¡œ ë³´ê¸°ëŠ” ì–´ë µìŠµë‹ˆë‹¤.
> Booking í™”ë©´ì—ì„œëŠ” ë‹¤ë¥´ê²Œ ì¶œë ¥í•´ì•¼ í•œë‹¤ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ê´‘ê³  ê´€ë ¨ ì •ë³´ë„ ì•Œê³  ìˆëŠ” ë“± ì˜ì¡´ì„±ì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
> ì €ë¼ë©´ ì°¨ë¼ë¦¬ Movie ëª¨ë¸ì„ ê·¸ëŒ€ë¡œ ì „ë‹¬í•˜ê³  ì¬ì‚¬ìš© ë˜ëŠ” UI ë¡œì§ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ê³ ë¯¼í•˜ëŠ” ë°©ë²•ì´ ë‚˜ì•„ ë³´ì…ë‹ˆë‹¤.

- ìœ„ ë¦¬ë·°ì— ê·¹íˆ ê³µê°í•œë‹¤. `UiModel`ì„ ë§Œë“  ì´ìœ ëŠ” ì–´ë””ê¹Œì§€ë‚˜ ViewTypeì„ ë¶„ê¸°í•˜ëŠ” ê³¼ì •ì—ì„œ `Class Type`ì— ë”°ë¼ ë¶„ê¸°í•˜ê¸° ìœ„í•¨ì´ë‹¤.
+ ë‹¤ë§Œ, ê°ì²´ë¥¼ ì§ì ‘ ë°˜í™˜í•  ê²½ìš° `UiModel`ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ìœ„ ë¦¬ë·° ë‚´ìš©ì— ìœ„ë°°ëœë‹¤.

### ğŸ’¡Solution
+ idë¥¼ ë°˜í™˜í•´ ì˜í™” ì €ì¥ì†Œì—ì„œ ì˜í™”ë¥¼ ì§ì ‘ ì°¾ë„ë¡ í•˜ì

### â›”ï¸ Warning
+ í•˜ì§€ë§Œ ì´ ë˜í•œ idë¥¼ ê°€ì§€ê³  ì˜í™”ë¥¼ ì°¾ëŠ” ë¦¬ìŠ¤íŠ¸ íƒìƒ‰ ë¹„ìš©(O(N))ì´ ë°œìƒí•œë‹¤.
  + ë§Œì•½ 10,000ë²ˆì§¸ ì˜í™”ì¼ ê²½ìš° ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë²ˆì´ë‚˜ ë°˜ë³µí•œë‹¤.

### ğŸ’¡Solution
+ ì €ì¥ì†Œì—ì„œ ì˜í™”ì˜ Idë¥¼ Keyë¡œ ê°–ëŠ” map ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ íƒìƒ‰ ì‹œê°„ì´ O(1)ì´ ë“¤ë„ë¡ ìµœì í™”í•˜ì

### 2. Presenterì˜ DIP ìœ„ë°˜ ìˆ˜ì •
```
companion object PresenterFactory {
    fun providePresenter(view: View): Presenter {
        val seats = Seats()
        return SeatPresenter(view, seats)
    }
}
```
### â›”ï¸ Warning
- ì¸í„°í˜ì´ìŠ¤ê°€ êµ¬í˜„ì²´ë¥¼ ì•Œê²Œ ë˜ì–´ DIPë¥¼ ìœ„ë°˜í•˜ëŠ” í˜•íƒœê°€ ë˜ì–´ ì œê±°

### 3. Presenterì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì œê±°
```
when (seats.isSelected(newSeat)) {
    true -> seats.removeSeat(newSeat)
    false -> {
        if (canSelect(limit).not()) return
        seats.addSeat(newSeat)
    }
}
```
- [x] SeatsPresenterì— ì¡´ì¬í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì œê±°
- [x] ì´ì™¸ì˜ Presenterì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

### 4. Presenterì˜ UI ë¡œì§ ì œê±°
```
private fun seatToLabel(): String {
    return seats
        .item
        .joinToString {
            val rowLetter = ('A' + it.x - 1)
            val columnNumber = it.y
            "$rowLetter$columnNumber"
        }
}
```
- [x] SeatsPresenterì— ì¡´ì¬í•˜ëŠ” UI ë¡œì§ ì œê±°
- [x] ì´ì™¸ì˜ Presenterì— UI ë¡œì§ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

## 5. í…Œì´ë¸” ë ˆì´ì•„ì›ƒ ì½”ë“œ ê°œì„ 
- ì¢Œì„ì˜ ì „ì²´ ë·°ì™€ ê° rowë¥¼ ê´€ë¦¬í•˜ë„ë¡ ìˆ˜ì •

## 6. Presenter ì½”ë“œ ê°œì„ 

### 6-1. Prestenerì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìš”ì²­ í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œ ì œê±°
### â›”ï¸ Warning
- View ì¸í„°í˜ì´ìŠ¤(BookingContract.View)ì— onClickIncrease(), onClickDecrease() ë“± ì¤‘ê°„ ì „ë‹¬ ì „ìš© ë©”ì„œë“œê°€ ì¡´ì¬
- í•´ë‹¹ ë©”ì„œë“œë“¤ì€ ë³„ë„ì˜ ì¶”ê°€ ë¡œì§ ì—†ì´ ë‹¨ìˆœíˆ Presenter ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰
